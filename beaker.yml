version: v2-alpha
description: AllenNLP Training Experiment
tasks:
  - name: train
    image:
      docker: "epwalsh/allennlp-beaker:415b6ef93a6584c90718acb6fdb813fbd1e09e4a-cuda101"
    result:
      path: "/output"
    envVars:
      CONFIG: "https://raw.githubusercontent.com/epwalsh/vilbert_vqa/a09994ddb434c54a0aae57f97f5563437fd9c755/vilbert_vqa_from_huggingface.jsonnet"
      OVERRIDES: '{"random_seed":3,"numpy_seed":3,"pytorch_seed":3}'
      # PIP_EXTRAS: "git+https://github.com/allenai/allennlp.git@415b6ef93a6584c90718acb6fdb813fbd1e09e4a"
    datasets:
      - mountPath: "/data/vqa"
        source:
          beaker: "ds_zbkh08o8ujxu"
    context:
      cluster: "ai2/shared-v100-1x-8x"
      # cluster: "ai2/on-prem-ai2-server"
    resources:
      gpuCount: 1
